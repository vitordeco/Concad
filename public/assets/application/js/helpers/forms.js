$( function(){		initMask();		//validação nos formulários	if( typeof jQuery.fn.validate === 'function' )	{		$("form").each(function () {		    $(this).validate({				ignore : ""			});		});	}		//buscar endereço via cep	$(window).on("change", $(".cep"), function(){		if( !$(".cep").length ) return false;        var cep = $(".cep").val().replace(/[^0-9]/, '');                if(cep !== '')        {        	var url = '//viacep.com.br/ws/'+cep+'/json';            $.getJSON(url, function(json){                $('input[name="logradouro"]').val(json.logradouro);                $('input[name="bairro"]').val(json.bairro);                $('input[name="cidade"]').val(json.localidade);                $('select[name="estado"], input[name="estado"]').val(json.uf);                $('select[name="pais"]').val('Brasil');            });        }    });        //validação em ajax    $(document).on('submit', 'form.validate', function(event){		formValidateSubmit(event, this);	});        //envio em ajax    $(document).on('submit', 'form.ajaxsubmit', function(event){		formAjaxSubmit(event, this);	});        });function initMask(){	//máscaras diversas	if( typeof jQuery.fn.mask === 'function' )	{		$('input[name="telefone"], .phone').mask("(99) 9999-9999?9");		$('input[name="celular"], .cellphone').mask("(99) 9999-9999?9");		$('input[name="cep"]').mask("99999-999");		$(".addressCep").mask("99999-999");		$('input[name="cpf"], .cpf').mask("999.999.999-99");		$('input[name="cnpj"], .cnpj').mask("99.999.999/9999-99");		$(".calendar, .maskdate").mask("99/99/9999");		$(".hour").mask("99:99");	}		//máscara de preço	if( typeof jQuery.fn.maskMoney === 'function' )	{		$(".price").maskMoney({showSymbol:false, decimal:",", thousands:"."});		$(".percent").maskMoney({showSymbol:false, decimal:".", thousands:"", precision:3});	}		//máscara inteiros	$(".integer").keypress( function(event){		return event.charCode >= 48 && event.charCode <= 57	});}/** * enviando o form em ajax */function formValidateSubmit(event, element){	//disable the default form submission	event.preventDefault();		//grab all form data  	var formData = new FormData($(element)[0]);	//definir action	var action = ( $(element).attr('action') != undefined) ? $(element).attr('action') : null;	//loading	loadingStart();	//send	$.ajax({		url: action,		type: 'POST',		data: formData,		async: true,		cache: false,		contentType: false,		processData: false,		dataType: "json",		success: function($returndata)		{			loadingClose();			console.log($returndata);						if( $returndata.error )			{				message($returndata.error, 'danger');							} else {								window.location = $returndata.redirect;							}		},		error: function($error)		{			loadingClose();			console.log($error);			message("Houve um problema na consulta, tente novamente mais tarde!", 'danger');		}	});		return false;}/** * enviando o form em ajax */function formAjaxSubmit(event, element){	//disable the default form submission	event.preventDefault();		//grab all form data  	var formData = new FormData($(element)[0]);		//send	$.ajax({		type: 'POST',		data: formData,		async: true,		cache: false,		contentType: false,		processData: false,		dataType: "json",		success: function($returndata)		{			console.log($returndata);						if( $returndata.error )			{				message($returndata.error, 'danger');			}		}	});		return false;}/** * loading Start */function loadingStart(){	var loading = $("#loading");	var target = $("body");	loading.remove();	target.prepend(loadingHtml());	setTimeout( function(){		$("#loading").fadeIn();	}, 400);}/** * loading Close */function loadingClose(){	setTimeout( function(){		var target = $("#loading");		target.fadeOut();	}, 400);}/** * loading HTML */function loadingHtml(){	var div = $("<div>")		.css("display", "none")		.attr("id", "loading");	var i = $("<i>")		.addClass("fa fa-spinner fa-pulse fa-5x fa-fw");	var html = div.append(i);	return html;}